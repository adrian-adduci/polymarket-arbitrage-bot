<!-- Trades Table Partial -->
{% if trades and trades|length > 0 %}
<div class="overflow-x-auto">
    <table class="data-table">
        <thead>
            <tr>
                <th>Market</th>
                <th>Side</th>
                <th class="text-right">Price</th>
                <th class="text-right">Size</th>
                <th class="text-right">P&L</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            {% for trade in trades %}
            <tr>
                <td>
                    <div class="max-w-xs truncate text-sm">
                        {{ trade.market_slug[:30] }}{% if trade.market_slug|length > 30 %}...{% endif %}
                    </div>
                    <div class="text-xs text-gray-500 font-mono">
                        {{ trade.trade_id[:16] }}...
                    </div>
                </td>
                <td>
                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium
                        {% if trade.side == 'YES' %}bg-green-100 text-green-800{% else %}bg-red-100 text-red-800{% endif %}">
                        {{ trade.side }}
                    </span>
                </td>
                <td class="text-right font-mono text-sm">
                    {% if trade.fill_price %}
                    ${{ "%.4f"|format(trade.fill_price) }}
                    {% else %}
                    ${{ "%.4f"|format(trade.order_price) }}
                    {% endif %}
                </td>
                <td class="text-right font-mono text-sm">
                    {{ "%.2f"|format(trade.size) }}
                </td>
                <td class="text-right">
                    {% if trade.status == 'settled' %}
                    {% set pnl = trade.realized_pnl|float %}
                    <span class="font-semibold {% if pnl >= 0 %}text-green-600{% else %}text-red-600{% endif %}">
                        {% if pnl >= 0 %}+{% endif %}${{ "%.2f"|format(pnl) }}
                    </span>
                    {% else %}
                    <span class="text-gray-400">--</span>
                    {% endif %}
                </td>
                <td>
                    {% if trade.status == 'pending' %}
                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800">
                        Pending
                    </span>
                    {% elif trade.status == 'filled' %}
                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800">
                        Filled
                    </span>
                    {% elif trade.status == 'settled' %}
                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800">
                        Settled
                    </span>
                    {% elif trade.status == 'cancelled' %}
                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800">
                        Cancelled
                    </span>
                    {% elif trade.status == 'failed' %}
                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800">
                        Failed
                    </span>
                    {% else %}
                    <span class="inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800">
                        {{ trade.status }}
                    </span>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<div class="p-8 text-center">
    <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
              d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
    </svg>
    <p class="mt-2 text-sm text-gray-500">No trades recorded yet</p>
    <p class="text-xs text-gray-400">Trades will appear here once executed</p>
</div>
{% endif %}
